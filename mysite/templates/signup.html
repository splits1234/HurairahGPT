<!--
  Copyright (c) 2025 Hurairah
  All Rights Reserved. Proprietary Software.
  Legal matters handled by parent/guardian until age 18.
  Governed by Pakistan law (Rawalpindi jurisdiction).
-->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="description" content="Create a new HurairahGPT account to chat with your AI assistant. Sign up with your Gmail and password to get started.">
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>HurairahGPT Sign Up</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/signup.css') }}">
  </head>
  <body>
    <div class="login-container">
      <div class="logo">
        <div class="logo-badge">H</div>
        <div class="logo-text">
          <span class="logo-text-main">Create your HurairahGPT account</span>
          <span class="logo-text-sub">One login for all your chats</span>
        </div>
      </div>
      <form id="signup-form" action="/signup" method="POST" novalidate>
        <div class="input-group">
          <input type="email" name="gmail" id="email" placeholder=" " required />
          <label for="email">Enter your Gmail</label>
          <div class="error-msg" id="email-error">Please enter a valid Gmail address.</div>
        </div>

        <div class="input-group">
          <input type="password" name="password" id="password" placeholder=" " required minlength="4" />
          <label for="password">Create a password</label>
          <div class="error-msg" id="password-error">Password must be at least 4 characters.</div>
        </div>

        <button type="submit" id="submit-btn">Create Account<div class="spinner"></div></button>
      </form>

      <div class="note">
        Already have an account? <a href="/login">Sign in</a>
      </div>
    </div>

    <script>
      const form = document.getElementById("signup-form");
      const submitBtn = document.getElementById("submit-btn");
      const emailInput = document.getElementById("email");
      const passwordInput = document.getElementById("password");
      const emailError = document.getElementById("email-error");
      const passwordError = document.getElementById("password-error");

      function validateEmail(email) {
        return /\S+@\S+\.\S+/.test(email);
      }

      form.addEventListener("submit", (e) => {
        e.preventDefault();
        let valid = true;

        if (!validateEmail(emailInput.value.trim())) {
          emailError.style.display = "block";
          valid = false;
        } else {
          emailError.style.display = "none";
        }

        if (passwordInput.value.length < 4) {
          passwordError.style.display = "block";
          valid = false;
        } else {
          passwordError.style.display = "none";
        }

        if (!valid) return;

        submitBtn.disabled = true;
        submitBtn.classList.add("loading");
        setTimeout(() => form.submit(), 600);
      });
    </script>
  </body>
</html>
